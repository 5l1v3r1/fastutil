<project name="fastutil" default="jar" basedir=".">

  <property name="version"  value="3.1"/>
  <property name="src"      value="java"/>
  <property name="build"    value="build"/>
  <property name="docs"     value="docs"/>
  <property name="apiurl"   value="http://java.sun.com/j2se/1.4/docs/api"/>

  <target name="init">
    <mkdir dir="${build}"/>
  </target>

  <target name="compile" depends="init">
    <javac srcdir="${src}" 
	   debug="on"
	   optimize="on"
           destdir="${build}"
	   source="1.4"
	   memoryInitialSize="256M"
	   memoryMaximumSize="256M"
	   fork="yes"
	   />
  </target>

  <target name="jar" depends="compile">
    <jar jarfile="fastutil-${version}.jar" 
         basedir="${build}"
	 />
  </target>

  <target name="javadoc">
    <mkdir dir="${docs}"/>
    <javadoc destdir="${docs}" 
			 packagenames = "it.unimi.dsi.fastutil,it.unimi.dsi.fastutil.*"
			 overview="${src}/overview.html"
			 sourcepath="${src}" 
			 public="on"
			 source="1.4"
			 windowtitle="fastutil ${version}"
			 maxmemory="192M"
			 >
	<link href="${apiurl}"/>
    </javadoc>
  </target>

</project>
